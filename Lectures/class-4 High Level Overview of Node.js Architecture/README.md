## ЁЯПЧя╕П Node.js Architecture

Node.js ржПрж░ рж╕рзНржерж╛ржкрждрзНржп рждрзИрж░рж┐ рж╣рзЯрзЗржЫрзЗ ржПржоржиржнрж╛ржмрзЗ, ржпрзЗржи ржПржЯрж┐ ржжрзНрж░рзБржд, рж╕рзНржХрзЗрж▓ржпрзЛржЧрзНржп, ржПржмржВ
non-blocking рж╕рж╛рж░рзНржнрж╛рж░-рж╕рж╛ржЗржб ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи рждрзИрж░рж┐ ржХрж░рждрзЗ ржкрж╛рж░рзЗред

ЁЯМР ржорзВрж▓ ржЙржкрж╛ржжрж╛ржирж╕ржорзВрж╣: 1я╕ПтГг V8 Engine

- Google-ржПрж░ рждрзИрж░рж┐ JavaScript Engine (Chrome-ржП ржмрзНржпржмрж╣рзГржд рж╣рзЯ)ред

- JavaScript ржХрзЛржбржХрзЗ ржорзЗрж╢рж┐ржи ржХрзЛржбрзЗ рж░рзВржкрж╛ржирзНрждрж░ ржХрж░рзЗ ржжрзНрж░рзБржд рж░рж╛ржи ржХрж░рж╛рзЯред

2я╕ПтГг Event Loop

- Node.js ржПрж░ ржорзБржЦрзНржп ржЬрж╛ржжрзБ ржПржЦрж╛ржирзЗржЗред

- ржПржЯрж┐ рж╕ржм asynchronous ржХрж╛ржЬ (ржпрзЗржоржи ржлрж╛ржЗрж▓ ржкрзЬрж╛, API call) ржПржХржЯрж╛рж░ ржкрж░ ржПржХржЯрж╛ non-blocking
  ржнрж╛ржмрзЗ ржкрж░рж┐ржЪрж╛рж▓ржирж╛ ржХрж░рзЗред

3я╕ПтГг libuv

- C/C++ ржжрж┐рзЯрзЗ рж▓рзЗржЦрж╛ рж▓рж╛ржЗржмрзНрж░рзЗрж░рж┐ред

- Event Loop ржкрж░рж┐ржЪрж╛рж▓ржирж╛ ржХрж░рзЗ ржПржмржВ OS-ржПрж░ рж╕рж╛ржерзЗ I/O ржХрж╛ржЬржЧрзБрж▓рзЛрж░ ржЬржирзНржп ржпрзЛржЧрж╛ржпрзЛржЧ ржХрж░рзЗред

4я╕ПтГг Callback Queue

- рж╕ржм ржХрж╛ржЬрзЗрж░ callback (ржпрзЗржоржи API response ржкрзЗрж▓рзЗ ржпрж╛ рж╣ржмрзЗ) ржПржЦрж╛ржирзЗ ржЬржорж╛ рж╣рзЯред

- Event Loop ржПржЦрж╛ржи ржерзЗржХрзЗ ржПржХ ржПржХ ржХрж░рзЗ callback ржирзЗрзЯ ржПржмржВ ржЪрж╛рж▓рж╛рзЯред

5я╕ПтГг Thread Pool

- ржХрж┐ржЫрзБ ржнрж╛рж░рж┐ ржХрж╛ржЬ (ржпрзЗржоржи file system access, DNS lookup) ржПржХ ржмрж╛ ржПржХрж╛ржзрж┐ржХ background
  thread ржжрж┐рзЯрзЗ ржкрж░рж┐ржЪрж╛рж▓рж┐ржд рж╣рзЯ тАФ ржорзВрж▓ Thread ржЖржЯржХрзЗ ржпрж╛рзЯ ржирж╛ред

# тЪЩя╕П ржХрж┐ржнрж╛ржмрзЗ Node.js ржХрж╛ржЬ ржХрж░рзЗ ржзрж╛ржкрзЗ ржзрж╛ржкрзЗ: ржЗржЙржЬрж╛рж░ ржЕржирзБрж░рзЛржз ржХрж░рзЗ (ржпрзЗржоржи: ржлрж╛ржЗрж▓ ржЪрж╛ржЗ, ржбрзЗржЯрж╛ржмрзЗрж╕рзЗ

ржХрж┐ржЫрзБ рж▓рзЗржЦрзЛ)

- Node.js ржжрзЗржЦрзЗ ржХрж╛ржЬржЯрж╛ Sync ржирж╛ Async

- Async рж╣рж▓рзЗ рж╕рзЗржЯрж╛ libuv-ржПрж░ ржорж╛ржзрзНржпржорзЗ OS-ржХрзЗ ржжрж┐рзЯрзЗ ржжрзЗрзЯ

- meanwhile Node.js ржЕржирзНржп ржХрж╛ржЬ ржХрж░рждрзЗ ржерж╛ржХрзЗ (block рж╣рзЯ ржирж╛)

- ржпржЦржи ржХрж╛ржЬ рж╢рзЗрж╖ рж╣рзЯ, callback Queue-рждрзЗ callback ржЬржорзЗ

- Event Loop callback Queue ржерзЗржХрзЗ callback ржирж┐рзЯрзЗ ржЪрж╛рж▓рж╛рзЯ

- ржлрж╛ржЗржирж╛рж▓рж┐ ржЗржЙржЬрж╛рж░ржХрзЗ рж░рзЗрж╕ржкржирзНрж╕ ржкрж╛ржарж╛рзЯ
